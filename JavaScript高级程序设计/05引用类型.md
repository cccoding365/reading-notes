# 第五章 引用类型

## Object 类型

创建 Object 实例的方式有两种：

-   new 操作符后跟 Object 构造函数
-   使用对象字面量表示法

访问对象属性可以使用点表示法和方括号表示法，使用方括号表示法时将要访问的属性以字符串的形式放在方括号中。

## Array 类型

创建数组的基本方法有两种：

-   使用 Array 构造函数
-   使用数组字面量表示法

ECMAScript5 新增了`Array.isArray()`方法用以检测数组，解决了`instanceof`不能应对多个全局执行环境的问题。

调用数组的`toString()`会返回由数组中每个值的字符串形式拼接而成的一个以逗号分隔的字符串，实际上为了创建这个字符串会调用数组每一项的`toString()`方法。

ECMAScript 为数组专门提供了`pop()`和`push()`方法以便实现类似栈的行为。

结合使用`shift()`和`push()`方法，可以像使用队列一样使用数组。

使用`unshift()`和`pop()`方法，可以从相反的方向来模拟队列。

数组中存在两个重排序的方法：`reverse()`和`sort()`，其中`sort()`默认按升序排序数组项，其实质是调用每个数组项的`toString()`方法，比较的是字符串，即便每一项都是数值。

`concat()`方法可以基于当前数组中的所有项创建一个新数组，然后将接收到的参数添加到这个数组的末尾，最后返回新构建的数组。

`slice()`方法可以基于当前数组的一或多个项创建一个新数组，该方法不影响原数组。

`splice()`方法：

-   删除：指定 2 个参数，要删除的第一项的位置和要删除的项数
-   插入：指定 3 个参数，起始位置，0（要删除的项数）和要插入的项（可继续追加多个参数以插入更多项）
-   替换：指定 3 个参数，起始位置，要删除的项数和要插入的任意数量的项

`indexOf()`和`lastIndexOf()`方法：都接收 2 个参数，要查找的项和表示查找起点位置的索引。

迭代方法：（参数为函数，即对数组中的每一项运行给定函数）

-   `every()`：如果给定函数对每一项都返回 true，则返回 true
-   `filter()`：返回给定函数会返回 true 的项组成的数组
-   `forEach()`：仅运行给定函数，无返回值
-   `map()`：返回给定函数调用的结果组成的数组
-   `some()`：如果给定函数对任一项返回 true，则返回 true

归并方法`reduce()`和`reduceRight()`：迭代数组的所有项，然后构建一个最终返回的值，接收 2 个参数，一个在每一项上调用的函数和一个作为归并基础的初始值，前者调用函数接收 4 个参数，前一个值、当前值、项的索引值和数组对象，这个函数的返回值会作为第一个参数自动传给下一项。

## Date 类型

使用 new 操作符和 Date 构造函数创建日期对象

-   `Date.parse()`方法接收一个表示日期的字符串参数，尝试根据这个字符串返回相应日期的毫秒数

-   `Date.UTC()`方法在构建值时使用不同的信息，其参数分别是年份、基于 0 的月份、月中的哪一天、小时、分钟、秒以及毫秒数。

日期格式化方法：

-   `toDateString()`：以特定于实现的格式显示星期几、月、日和年

-   `toTimeString()`：以特定于实现的格式显示时、分、秒和时区

-   `toLocaleDateString()`：以特定于地区的格式显示星期几、月、日和年

-   `toLocaleTimeString()`：以特定于地区的格式显示时、分、秒

-   `toUTCString()`：以特定于实现的格式显示 UTC 日期

日期时间组件方法：

-   `getTime()`：返回表示日期的毫秒数

-   `getFullYear()`：取得四位数的年份

-   `getMonth()`：返回日期中的月份，从 0 开始

-   `getDate()`：返回日期月份中的天数

-   `getDay()`：返回日期星期中的星期几

-   `getHours()`：返回日期中的小时数

-   `getMinutes()`：返回日期中的分钟数

-   `getSeconds()`：返回日期中的秒数

-   `getMilliseconds()`：返回日期中的毫秒数

## RegExp 类型

正则表达式的匹配模式支持下列 3 个标志：

`g`：表示全局模式，即模式将被应用于所有字符串，而非在发现第一个匹配项时立即停止

`i`：表示不区分大小写模式，即在确定匹配项时忽略模式与字符串的大小写

`m`：表示多行模式，即在到达一行文本末尾时还会继续查找下一行中是否存在与模式项匹配的项

RegExp 的每个实例具有如下属性：

`global`：布尔值，表示是否设置了 g 标志

`ignoreCase`：布尔值，表示是否设置了 i 标志

`lastIndex`：整数，表示开始搜索下一个匹配项的字符位置，从 0 开始

`multiline`：布尔值，表示是否设置了 m 标志

`source`：正则表达式的字符串表示，按照字面量形式而非传入构造函数中的字符串模式返回
